<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GACORBOYY - PLATFORM JUDI GACOR</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        :root { --bg: #0b0e11; --card: #1c1f23; --gold: #ffb300; --win: #00e676; --loss: #ff1744; --border: rgba(255,255,255,0.08); --blue: #3b82f6; }
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; margin: 0 auto; max-width: 500px; min-height: 100vh; overflow-x: hidden; }
        
        /* ANIMASI SPIN */
        @keyframes shuffle { 0% { filter: blur(2px); } 50% { transform: scale(0.95); } 100% { filter: blur(0); } }
        .tile-spinning { animation: shuffle 0.1s infinite; }

        .view-screen { display: none; width: 100%; height: 100vh; position: fixed; inset: 0; background: var(--bg); z-index: 10; flex-direction: column; overflow-y: auto; }
        .view-active { display: flex !important; }
        .header { padding: 15px; background: #13171c; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        
        /* GRID 18 GAMES */
        .game-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px 15px 140px; }
        .game-card { background: var(--card); border-radius: 12px; border: 1px solid var(--border); text-align: center; cursor: pointer; overflow: hidden; position: relative; }
        .game-icon { height: 80px; display: flex; align-items: center; justify-content: center; font-size: 35px; background: #13171c; }
        .game-title { padding: 6px 2px; font-size: 7px; font-weight: 900; color: #fff; background: #1c1f23; }

        .modal-full { display: none; position: fixed; inset: 0; background: var(--bg); z-index: 5000; flex-direction: column; overflow-y: auto; }
        
        /* GRADASI MODAL KAYA V.106 */
        .header-depo { background: linear-gradient(to right, #1e2124, var(--win)); padding: 20px; display: flex; justify-content: space-between; font-weight: 900; }
        .header-wd { background: linear-gradient(to right, #1e2124, var(--loss)); padding: 20px; display: flex; justify-content: space-between; font-weight: 900; }
        
        /* SHORTCUT DEPO */
        .shortcut-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 15px; }
        .btn-small { padding: 12px; background: #222; border: 1px solid #444; color: #fff; border-radius: 8px; font-size: 10px; font-weight: 900; cursor: pointer; }
        
        input, select { width: 100%; padding: 15px; margin-bottom: 12px; border-radius: 10px; border: 1px solid #333; background: #000; color: #fff; font-weight: 700; }
        .btn-gold { width: 100%; padding: 16px; background: var(--gold); border-radius: 12px; font-weight: 900; border: none; cursor: pointer; color: #000; }

        .ticker-wrap { position: fixed; bottom: 65px; left: 0; right: 0; background: rgba(0,0,0,0.9); padding: 10px; overflow: hidden; white-space: nowrap; border-top: 1px solid var(--gold); z-index: 900; max-width: 500px; margin: 0 auto; }
        .ticker-move { display: inline-block; animation: ticker 25s linear infinite; font-size: 10px; font-weight: 700; color: var(--gold); }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
        .footer { position: fixed; bottom: 0; width: 100%; max-width: 500px; background: #13171c; display: flex; padding: 12px 0; border-top: 1px solid #333; z-index: 1000; }
        .nav-link { flex: 1; text-align: center; color: #666; font-size: 9px; font-weight: 700; cursor: pointer; }
    </style>
</head>
<body>
    <div id="auth-view" class="view-screen view-active"><div style="text-align:center; padding: 50px 20px;"><h1 style="color:var(--gold); font-size:3rem; font-style:italic;">GACORBOYY</h1><div id="login-box" style="background:var(--card); padding:30px; border-radius:20px; margin-top:30px;"><input type="text" id="log-u" placeholder="Username"><input type="password" id="log-p" placeholder="Password"><button class="btn-gold" onclick="handleAuth()">LOGIN</button><p onclick="toggleAuth(true)" style="margin-top:15px; font-size:12px; color:#888;">Daftar Akun Baru? <span style="color:var(--gold)">KLIK DISINI</span></p></div><div id="reg-box" style="display:none; background:var(--card); padding:30px; border-radius:20px;"><input type="text" id="reg-u" placeholder="Username"><input type="password" id="reg-p" placeholder="Password"><select id="reg-bank"><option value="DANA">DANA</option><option value="BCA">BCA</option></select><input type="text" id="reg-norek" placeholder="No Rekening"><input type="text" id="reg-nmrek" placeholder="Nama Rekening"><button class="btn-gold" onclick="handleReg()">DAFTAR</button></div></div></div>

    <div id="main-app" class="view-screen">
        <header class="header"><div style="font-weight:900; color:var(--gold);">G-777</div><div style="background:#1e2329; padding:5px 12px; border-radius:8px; border:1px solid #333;"><span style="color:var(--gold);">IDR</span> <span id="u-bal">0</span></div></header>
        <div class="game-grid" id="game-list"></div>
        <div class="ticker-wrap"><div class="ticker-move" id="win-tkr"></div></div>
        <nav class="footer"><div onclick="location.reload()" class="nav-link">üè†<br>HOME</div><div onclick="openDepo()" class="nav-link">üí∞<br>DEPO</div><div onclick="openWD()" class="nav-link">üí∏<br>WD</div><div onclick="openHist()" class="nav-link">üìú<br>HIST</div><div onclick="logout()" class="nav-link">üë§<br>OUT</div></nav>
    </div>

    <div id="modal-game" class="modal-full"><div style="padding:15px; display:flex; justify-content:space-between; background:#13171c; border-bottom:1px solid #333;"><b id="g-name" style="color:var(--gold);">GAME</b><span onclick="closeGame()" style="cursor:pointer; font-size:25px;">‚úï</span></div><div id="engine-sm" style="display:none; text-align:center;"><div style="height:220px; background:radial-gradient(circle at bottom left,#2d005f,#030508); border-radius:20px; margin:20px; position:relative; overflow:hidden;"><div id="rocket-container" style="position:absolute; bottom:5%; left:5%; transition:0.1s linear;"><div style="font-size:45px; transform:rotate(45deg);">üöÄ</div><div id="sm-val" style="font-size:2rem; font-weight:900; color:var(--gold);">1.00x</div></div></div></div><div id="engine-slot" style="display:none; padding:15px;"><div style="display:grid; grid-template-columns:repeat(5,1fr); gap:5px; background:#000; padding:10px; border-radius:15px; border:2px solid var(--gold);" id="slot-grid"></div></div><div style="padding:0 20px;"><input type="number" id="bet-amt" value="5000" style="text-align:center;"><button id="btn-play" class="btn-gold" onclick="playGame()">MULAI SPIN</button><button id="btn-cash" class="btn-gold" style="display:none; background:var(--win)" onclick="cashSM()">CASH OUT</button></div></div>

    <div id="modal-depo" class="modal-full"><div class="header-depo"><b>üí∞ DEPOSIT SALDO</b><span onclick="document.getElementById('modal-depo').style.display='none'" style="cursor:pointer;">‚úï</span></div><div style="padding:20px;"><div style="background:#1e2329; padding:20px; border-radius:12px; border:1px solid var(--blue); text-align:center; margin-bottom:15px;"><small>DANA TUJUAN:</small><br><b id="dana-num" style="font-size:1.6rem; color:var(--gold);"></b><br><small>A/N: OFFICIAL ADMIN</small></div><div class="shortcut-grid"><button class="btn-small" onclick="setNominal(10000)">10k</button><button class="btn-small" onclick="setNominal(20000)">20k</button><button class="btn-small" onclick="setNominal(50000)">50k</button><button class="btn-small" onclick="setNominal(100000)">100k</button><button class="btn-small" onclick="setNominal(200000)">200k</button><button class="btn-small" onclick="setNominal(500000)">500k</button></div><input type="number" id="depo-amt" placeholder="Ketik Nominal Bebas (Custom)"><input type="text" id="depo-note" placeholder="Nama Pengirim"><button class="btn-gold" onclick="submitDepo()">KONFIRMASI DEPO</button></div></div>

    <div id="modal-wd" class="modal-full"><div class="header-wd"><b>üí∏ WITHDRAW SALDO</b><span onclick="document.getElementById('modal-wd').style.display='none'" style="cursor:pointer;">‚úï</span></div><div style="padding:20px;"><div style="background:#1e2329; padding:15px; border-radius:10px; border:1px solid var(--loss); text-align:center; margin-bottom:15px;"><small>SALDO:</small> <b id="u-bal-wd" style="color:var(--win)">0</b></div><select id="wd-bank"><option value="DANA">DANA</option><option value="BCA">BCA</option></select><input type="text" id="wd-norek" placeholder="No Rekening Tujuan"><input type="text" id="wd-name" placeholder="Nama Penerima"><input type="number" id="wd-amt" placeholder="Nominal Tarik"><button class="btn-gold" style="background:var(--loss); color:#fff" onclick="submitWD()">TARIK DANA</button></div></div>

    <div id="modal-hist" class="modal-full"><div style="padding:20px; background:#13171c; display:flex; justify-content:space-between; border-bottom:1px solid #333;"><b>üìú HISTORY TRANSAKSI</b><span onclick="document.getElementById('modal-hist').style.display='none'" style="cursor:pointer;">‚úï</span></div><div id="hist-list" style="padding:15px;"></div></div>

    <script>
        const config = { apiKey: "AIzaSyBO9wgYm6lIz9YzO8OpyuSJLqLvnI_XZVE", databaseURL: "https://gacorboy7777-default-rtdb.asia-southeast1.firebasedatabase.app" };
        firebase.initializeApp(config); const fb = firebase.database(); let sess = localStorage.getItem('RIZZ_SESS_CLOUD'), gInt, gM = 1.0, isCrashed = false;

        fb.ref('settings').on('value', s => { if(s.val()){ document.getElementById('dana-num').innerText = s.val().dana; const tkr = document.getElementById('win-tkr'); if(s.val().ticker) tkr.innerText = s.val().ticker; else { tkr.innerHTML = ""; for(let i=0; i<15; i++) tkr.innerHTML += ` üî• User_${Math.floor(Math.random()*99)} JP x${(Math.random()*50).toFixed(0)} Rp ${(Math.random()*10).toFixed(1)}jt ‚Ä¢ `; } } });

        function toggleAuth(r) { document.getElementById('login-box').style.display = r?'none':'block'; document.getElementById('reg-box').style.display = r?'block':'none'; }
        function handleReg() { const u = document.getElementById('reg-u').value.toLowerCase(), p = document.getElementById('reg-p').value, b = document.getElementById('reg-bank').value, nr = document.getElementById('reg-norek').value, nm = document.getElementById('reg-nmrek').value; if(u&&p&&b&&nr&&nm) fb.ref('players/'+u).set({u,p,bal:0,r:'normal',status:'active',bank:b,norek:nr,namarek:nm}).then(()=>toggleAuth(false)); }
        function handleAuth() { const u = document.getElementById('log-u').value.toLowerCase(), p = document.getElementById('log-p').value; fb.ref('players/'+u).get().then(s=>{ const d=s.val(); if(d && d.status==='ban') return alert('BANNED!'); if(d && d.p===p){sess=u; localStorage.setItem('RIZZ_SESS_CLOUD',u); location.reload();} else alert('Salah!'); }); }
        
        if(sess) {
            document.getElementById('auth-view').classList.remove('view-active'); document.getElementById('main-app').classList.add('view-active');
            fb.ref('players/'+sess).on('value', s=>{ if(s.val()){ document.getElementById('u-bal').innerText = Number(s.val().bal).toLocaleString(); document.getElementById('u-bal-wd').innerText = "Rp " + Number(s.val().bal).toLocaleString(); } });
            renderLobby();
        }

        function renderLobby() {
            const gs = [{n:'Spaceman',i:'üöÄ',p:'PRAGMATIC'},{n:'Gates Zeus',i:'‚ö°',p:'PRAGMATIC'},{n:'Mahjong Ways',i:'üÄÑ',p:'PG SOFT'},{n:'Koi Gate',i:'üêü',p:'HABANERO'},{n:'Starlight',i:'‚≠ê',p:'PRAGMATIC'},{n:'Sweet Bonanza',i:'üç¨',p:'PRAGMATIC'},{n:'Sugar Rush',i:'üç≠',p:'PRAGMATIC'},{n:'Lucky Neko',i:'üê±',p:'PG SOFT'},{n:'Wild West',i:'ü§†',p:'PRAGMATIC'},{n:'Aztec Gems',i:'üíé',p:'PRAGMATIC'},{n:'Fruit Party',i:'üçé',p:'PRAGMATIC'},{n:'Joker Jewel',i:'ü§°',p:'PRAGMATIC'},{n:'Medusa',i:'üêç',p:'PG SOFT'},{n:'Cleopatra',i:'üë∏',p:'HABANERO'},{n:'Great Rhino',i:'ü¶è',p:'PRAGMATIC'},{n:'Treasure AZ',i:'üè∫',p:'PG SOFT'},{n:'Buffalo King',i:'üêÉ',p:'PRAGMATIC'},{n:'Hot Fruit',i:'üî•',p:'HABANERO'}];
            const m = document.getElementById('game-list'); m.innerHTML = ''; gs.forEach(g=>{ m.innerHTML += `<div class="game-card" onclick="openGame('${g.n}')"><div style="position:absolute;top:0;left:0;background:var(--gold);color:#000;font-size:6px;padding:2px 5px;font-weight:900;">${g.p}</div><div class="game-icon">${g.i}</div><div class="game-title">${g.n}</div></div>`; });
            const gGrid = document.getElementById('slot-grid'); gGrid.innerHTML=''; for(let i=0;i<15;i++) gGrid.innerHTML+='<div class="tile">?</div>';
        }

        function openGame(n) { 
            document.getElementById('g-name').innerText=n.toUpperCase(); document.getElementById('modal-game').style.display='flex'; 
            if(n==='Spaceman'){ document.getElementById('engine-sm').style.display='block'; document.getElementById('engine-slot').style.display='none'; document.getElementById('btn-play').innerText = "MULAI TERBANG"; } 
            else { document.getElementById('engine-sm').style.display='none'; document.getElementById('engine-slot').style.display='block'; document.getElementById('btn-play').innerText = "MULAI SPIN"; }
            gM=1.0; isCrashed=false; 
        }

        function playGame() {
            fb.ref('players/'+sess).get().then(s=>{
                const u=s.val(), b=parseInt(document.getElementById('bet-amt').value); if(u.bal<b) return alert('Saldo Kurang!');
                const btn = document.getElementById('btn-play'); btn.disabled = true; const newB = u.bal - b; fb.ref('players/'+sess).update({bal: newB}); 
                if(document.getElementById('g-name').innerText==='SPACEMAN'){
                    document.getElementById('btn-cash').style.display='block'; gM=1.0; isCrashed=false; 
                    let winProb = (u.r === 'win') ? 1.0 : (u.r === 'loss' ? 0.0 : 0.000001); // 1:1M
                    let cp = (Math.random() < winProb) ? (Math.random()*8+4) : (Math.random()*0.5 + 1.1);
                    gInt=setInterval(()=>{ 
                        gM += 0.05; document.getElementById('sm-val').innerText=gM.toFixed(2)+'x'; let p = (gM-1)*10+5; if(p>85)p=85; document.getElementById('rocket-container').style.bottom=p+'%'; document.getElementById('rocket-container').style.left=p+'%';
                        if(gM >= cp){ clearInterval(gInt); gInt = null; isCrashed = true; document.getElementById('sm-val').innerText='BOOM!'; btn.disabled=false; document.getElementById('btn-cash').style.display='none'; }
                    }, 100);
                } else {
                    const tiles = document.querySelectorAll('.tile'); tiles.forEach(t => t.classList.add('tile-spinning'));
                    setTimeout(() => {
                        tiles.forEach(t => { t.classList.remove('tile-spinning'); t.innerText = Math.random() < 0.5 ? "üíé" : "‚ö°"; }); 
                        btn.disabled = false; let winProb = (u.r === 'win') ? 1.0 : (u.r === 'loss' ? 0.0 : 0.000001);
                        if(Math.random() < winProb){ let win = b * 10; fb.ref('players/'+sess).update({bal:newB + win}); alert('WIN Rp ' + win.toLocaleString()); }
                    }, 1500);
                }
            });
        }

        function cashSM(){ if(isCrashed || !gInt) return; clearInterval(gInt); gInt = null; fb.ref('players/'+sess).get().then(s=>{ let w = Math.floor(parseInt(document.getElementById('bet-amt').value)*gM); fb.ref('players/'+sess).update({bal:s.val().bal+w}); document.getElementById('btn-play').disabled=false; document.getElementById('btn-cash').style.display='none'; alert('CASH OUT Rp ' + w.toLocaleString()); }); }
        function openHist(){ document.getElementById('modal-hist').style.display='flex'; fb.ref('reqs').orderByChild('u').equalTo(sess).limitToLast(10).on('value', s=>{ const hl=document.getElementById('hist-list'); hl.innerHTML=''; s.forEach(c=>{ const r=c.val(); hl.innerHTML+=`<div style="background:#222;padding:12px;border-radius:10px;margin-bottom:8px;border-left:5px solid ${r.t==='depo'?'var(--win)':'var(--loss)'}"><b>${r.t.toUpperCase()}</b>: Rp ${r.a.toLocaleString()} | ${r.s.toUpperCase()}</div>`; }); }); }
        function setNominal(v) { document.getElementById('depo-amt').value = v; }
        function submitDepo(){ const a=parseInt(document.getElementById('depo-amt').value); if(a>=10000){ fb.ref('reqs').push({u:sess,a,t:'depo',n:document.getElementById('depo-note').value,s:'pending'}); alert('Laporan Dikirim!'); document.getElementById('modal-depo').style.display='none'; } }
        function submitWD(){ const a=parseInt(document.getElementById('wd-amt').value); if(a>=50000){ fb.ref('reqs').push({u:sess,a,t:'wd',nr:document.getElementById('wd-norek').value,an:document.getElementById('wd-name').value,s:'pending'}); alert('WD Diproses!'); document.getElementById('modal-wd').style.display='none'; } }
        function openDepo(){ document.getElementById('modal-depo').style.display='flex'; }
        function openWD(){ document.getElementById('modal-wd').style.display='flex'; }
        function closeGame(){ if(gInt) clearInterval(gInt); document.getElementById('modal-game').style.display='none'; document.getElementById('btn-play').disabled=false; }
        function logout(){ localStorage.removeItem('RIZZ_SESS_CLOUD'); location.reload(); }
    </script>
</body>
</html>
